<app-header></app-header>


<div class="results-container">
  <div class="results-list-container">
    <app-results-list
      (update)="markerUpdate($event)"
    ></app-results-list>
  </div>

  <div class="results-map-container">
    <agm-map #gm [latitude]="lat" [longitude]="lng" [zoom]="zoom">
      <agm-marker
        *ngFor="let marker of markers; let idx = index"
        [latitude]="marker.latitude"
        [longitude]="marker.longitude"
        (markerClick)="gm.lastOpen?.close(); gm.lastOpen = infoWindow"
      >
        <agm-info-window #infoWindow>
          {{marker.name}}
        </agm-info-window>
      </agm-marker>
    </agm-map>
  </div>

</div>
